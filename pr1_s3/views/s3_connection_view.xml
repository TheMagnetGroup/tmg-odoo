<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

	    <record model="ir.ui.view" id="view_s3_connection">
	   		<field name="name">view_s3_connection</field>
			<field name="model">pr1_s3.s3_connection</field>
			<field name="arch" type="xml">
				<form name="S3 Connections">
					<sheet>
						<group>
							<button name="test_connection" string="Test Connection" type="object"/>
							<button name="upload_all_existing" string="Upload All Existing" type="object"/>
							<button name="get_public_url" string="Get URL" type="object"/>
						</group>
						<group>
							<field name="name" readonly="0"></field>
							<field name="test_file"/>
						</group>
						<group>
								<group>
									<field name="s3_bucket_name" attrs="{'readonly':[('test_connected','=',True)]}"/>
									<field name="s3_access_key" />
									<field name="s3_secret_key"/>
									<field name="s3_location"/>
									<field name="s3_api_url"/>
									<field name="s3_is_public_bucket"/>
								</group>
								<group>
									<field name="for_all"/>
									<field name="sub_folder"/>
									<field name="append_file_name_to_start" invisible="1"/>
									<field name="test_connected" readonly="1"/>
									<field name="s3_enabled"/>
								</group>
								
						</group>	
						<group>
	            			<field name="bucket_filters"/>
	            		</group>
					</sheet>
				</form>
	   		</field>
	    </record>
	     
	    <record model="ir.ui.view" id="view_s3_connection_tree">
	   		<field name="name">view_s3_connection_tree</field>
			<field name="model">pr1_s3.s3_connection</field>
			<field name="arch" type="xml">
				<tree name="S3 Connections">
					<field name="name"/>
					<field name="s3_bucket_name"/>
					<field name="test_connected"/>
				</tree>
	   		</field>
	    </record>
	    
	    
	    
	    
	         <record id="action_all_s3_connections" model="ir.actions.act_window">
            <field name="name">All S3 Connections</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">pr1_s3.s3_connection</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>        
        
	 <menuitem id="menu_s3_connections"  action="action_all_s3_connections" name="All S3 Connections" sequence="1"/>
  
    </data>
</odoo>
