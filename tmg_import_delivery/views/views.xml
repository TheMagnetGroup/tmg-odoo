<odoo>
  <data>
     <act_window id="action_open_sale_line_delivery_entry_wizard"
            name="Sale Line Delivery Entry Wizard"
            src_model="sale.order.line"
            res_model="sale.order.line.delivery.entry.wizard"
            target="new"
            view_mode="form"
            view_id="wizard_import_entered_deliveries"
            multi="False"
            context="{}" />



<!--    <record id="view_order_form_inherit_delivery_ups" model="ir.ui.view">-->
<!--        <field name="name">sale.order.form.inherit.delivery.ups</field>-->
<!--        <field name="model">sale.order</field>-->
<!--        <field name="inherit_id" ref="sale.view_order_form"/>-->
<!--        <field name="arch" type="xml">-->

<!--        </field>-->
<!--    </record>-->



    <record id="view_sale_view_order_form_inherit_tmg_manual" model="ir.ui.view">
            <field name="name">sale_view_order_form_inherit_tmg_manual</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_order_form"/>
            <field name="arch" type="xml">
                <xpath expr="//button[@name='get_delivery_price']" position="after">
                    <button name="compare_rates" type="object" class="oe_inline oe_link"
                            attrs="{'invisible':['|',('carrier_id','=',False),('state','not in',('draft','sent'))]}"><i class="fa fa-arrow-right"/> Compare rate</button>

                </xpath>

                <xpath expr="//form[1]/sheet[1]/notebook[1]/page[@name='order_lines']/field[@name='order_line']/form[1]//field[@name='delivery_ids']" position="before">
                    <button name="%(action_open_sale_line_delivery_entry_wizard)d" type="action" string="Add Address" class="btn-sm btn-primary" />
                </xpath>

                <xpath expr="//field[@name='effective_date']" position="after">
                    <field name="shipping_reference_1"  invisible="1"/>
                    <field name="shipping_reference_2"  attrs="{'readonly': [('state', 'not in', ('draft', 'sent'))]}"/>
                </xpath>

                <xpath expr="//field[@name='payment_term_id']" position="after">
                    <field name="fedex_bill_my_account" invisible="1"/>
                    <field name="fedex_carrier_account" attrs="{'invisible': [('fedex_bill_my_account', '!=', True)], 'required':[('fedex_bill_my_account', '!=', False)]}"/>
                     <field name="fedex_service_type" attrs="{'invisible': [('fedex_bill_my_account', '!=', True)], 'required':[('fedex_bill_my_account', '!=', False)]}"/>
                </xpath>

                <xpath expr="//field[@name='partner_shipping_id']" position="after">
                    <field name="carrier_id" invisible="1"/>
                </xpath>

                <xpath expr="//form[1]/sheet[1]/notebook[1]/page[@name='order_lines']/field[@name='order_line']/form[1]//field[@name='delivery_ids']" position="replace">
                     <field name="delivery_ids" mode="tree" context="{'default_sale_line_id': active_id}">
                            <tree create="false" editable="bottom" options="{'no_create': True}">
                                <field name="partner_name" />
                                <field name="attention_to"/>
                                <field name="street"/>
                                <field name="city"/>
                                <field name="state_id"/>
                                <field name="qty"/>
                            </tree>
                     </field>
                </xpath>
            </field>
        </record>


        <record id="view_partner_form_attention_inherit" model="ir.ui.view">
          <field name="name">res.partner.form.attention.inherit</field>
          <field name="model">res.partner</field>
          <field name="inherit_id" ref="base.view_partner_form" />
          <field name="arch" type="xml">
             <xpath expr="//field[@name='type']" position="after">
<!--                 <field name="default_type" invisible="1"/>-->
                 <field name="attention_to" attrs="{'invisible': [('type', '!=', 'delivery')]}"/>
             </xpath>
          </field>
        </record>



    <record id="view_company_form_ship_from_inherit" model="ir.ui.view">
          <field name="name">res.company.form.ship.from.inherit</field>
          <field name="model">res.company</field>
          <field name="inherit_id" ref="base.view_company_form" />
          <field name="arch" type="xml">
             <xpath expr="//field[@name='nomenclature_id']" position="after">
                <field name="shipping_name" string="Ship From Name" />
             </xpath>
      </field>
    </record>

  </data>
</odoo>